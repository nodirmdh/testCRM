# План разработки MVP

## Этап 1. Project bootstrap
Цель: подготовить техническую основу проекта.
Задачи:
- [ ] структура репозитория и базовые модули
- [ ] линтеры и форматирование
- [ ] конфигурация окружения и секретов
- [ ] миграции и схема БД
- [ ] базовая конфигурация приложения
Definition of Done:
- репозиторий собирается и запускается локально
- единые правила форматирования и линтинга
- есть миграции и первичная схема
Риски/примечания:
- выбор стека повлияет на скорость запуска

## Этап 2. Auth + Tenancy
Цель: обеспечить доступ и изоляцию tenant по `organization_id`.
Задачи:
- [ ] Organization и регистрация
- [ ] User, роли owner/admin
- [ ] аутентификация и авторизация
- [ ] tenant-изоляция во всех запросах
Definition of Done:
- доступ в систему только после авторизации
- все данные изолированы по `organization_id`
- роли ограничивают доступ
Риски/примечания:
- нужно выбрать формат авторизации (session/token)

## Этап 3. Academics core
Цель: базовые справочники учебного процесса.
Задачи:
- [ ] Students CRUD + поиск/фильтры
- [ ] Guardians CRUD + поиск/фильтры
- [ ] Teachers CRUD + поиск/фильтры
- [ ] Courses CRUD + поиск/фильтры
Definition of Done:
- сущности создаются и редактируются
- доступ ограничен tenant и ролями
- поиск/фильтры работают по ключевым полям
Риски/примечания:
- нужно согласовать минимальный набор полей

## Этап 4. Groups
Цель: формирование учебных групп и зачисления.
Задачи:
- [ ] Groups CRUD
- [ ] Enrollment (ученик-группа)
- [ ] TeacherGroup (преподаватель-группа)
- [ ] страницы списка и карточки группы
Definition of Done:
- ученик может быть в нескольких группах
- преподаватель может вести несколько групп
- есть связки и базовые UI-страницы
Риски/примечания:
- стоит определить правила статусов зачисления

## Этап 5. Lessons & Attendance
Цель: учет занятий и посещаемости.
Задачи:
- [ ] LessonSession CRUD
- [ ] Attendance по ученикам
- [ ] массовая отметка посещаемости
Definition of Done:
- занятия создаются по группам
- посещаемость фиксируется в рамках занятия
- массовая отметка работает корректно
Риски/примечания:
- нужна политика по опозданиям/пропускам

## Этап 6. Finance
Цель: базовый финансовый контур.
Задачи:
- [ ] BillingPlan
- [ ] генерация Invoice за период
- [ ] Payment с частичными оплатами
- [ ] учет долгов и отчет дохода
Definition of Done:
- счета формируются и закрываются оплатами
- поддержаны частичные оплаты
- доступны базовые отчеты по доходам
Риски/примечания:
- важно определить периодичность счетов

## Этап 7. Payroll
Цель: расчет и учет зарплат преподавателей.
Задачи:
- [ ] SalaryRule
- [ ] SalaryAccrual (расчет по кнопке)
- [ ] Payout
- [ ] отчет по долгам/выплатам
Definition of Done:
- расчет запускается вручную
- начисления и выплаты связаны с преподавателем
- есть отчет по задолженности
Риски/примечания:
- потребуются правила округления и периодов

## Этап 8. Certificates + Dashboard
Цель: завершение учебного цикла и базовые метрики.
Задачи:
- [ ] Certificate
- [ ] генерация PDF (возможно заглушка)
- [ ] метрики на дашборде
Definition of Done:
- сертификаты создаются по завершению курса
- PDF формируется или имитируется
- дашборд показывает ключевые метрики
Риски/примечания:
- выбор механизма генерации PDF

## Scope later
- филиалы и иерархия организаций
- роли teacher/student
- уведомления (email/SMS)
- интеграции с платежами
- расширенная аналитика и BI
- мобильные приложения
